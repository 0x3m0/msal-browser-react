(this["webpackJsonpmsal-context-provider"]=this["webpackJsonpmsal-context-provider"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(5),o=n.n(a),i=(n(12),n(13),n(1)),u=n.n(i),s=n(3),l=n(2),p=n(6),f=window.navigator.userAgent,g=f.indexOf("MSIE "),d=f.indexOf("Trident/"),h=f.indexOf("Edge/"),v=g>0||d>0,m=h>0,b=c.a.createContext(),k=function(){return Object(r.useContext)(b)},x=function(e){var t=e.children,n=e.config,a=Object(r.useState)(),o=Object(l.a)(a,2),i=o[0],f=o[1],g=Object(r.useState)(),d=Object(l.a)(g,2),h=d[0],k=d[1],x=Object(r.useState)(),O=Object(l.a)(x,2),E=O[0],j=O[1],w=Object(r.useState)(),S=Object(l.a)(w,2),T=S[0],A=S[1],R=Object(r.useState)(!1),y=Object(l.a)(R,2),P=y[0],C=y[1],I=Object(r.useState)(!1),q=Object(l.a)(I,2),L=q[0],W=q[1],B=Object(r.useState)(!1),J=Object(l.a)(B,2),N=J[0],U=J[1];Object(r.useEffect)((function(){var e=new p.a(n);A(e),e.handleRedirectPromise().then((function(t){C(!1),t&&(k(e.getAccount()),f(!0),t.accessToken&&j(t.accessToken))})).catch((function(e){console.log(e),U(e)})),e.getAccount()&&(k(e.getAccount()),f(!0))}),[]);var G=function(){var e=Object(s.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loginPopup"!==(r=v||m?"loginRedirect":n)){e.next=18;break}return W(!0),e.prev=3,e.next=6,T.loginPopup(t);case 6:T.getAccount()&&(k(T.getAccount()),f(!0)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0),U(e.t0);case 13:return e.prev=13,W(!1),e.finish(13);case 16:e.next=19;break;case 18:"loginRedirect"===r&&(C(!0),T.loginRedirect(t));case 19:case"end":return e.stop()}}),e,null,[[3,9,13,16]])})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.acquireTokenSilent(t);case 3:n=e.sent,j(n.accessToken),e.next=24;break;case 7:return e.prev=7,e.t0=e.catch(0),e.prev=9,W(!0),e.next=13,T.acquireTokenPopup(t);case 13:r=e.sent,j(r.accessToken),e.next=21;break;case 17:e.prev=17,e.t1=e.catch(9),console.log(e.t1),U(e.t1);case 21:return e.prev=21,W(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,7],[9,17,21,24]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=j,e.next=4,T.acquireTokenSilent(t);case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0);try{C(!0),T.acquireTokenRedirect(t)}catch(n){console.log(n),U(n)}case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(s.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loginRedirect"!==(v||m?"loginRedirect":n)){e.next=7;break}return e.next=4,Y(t);case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,M(t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return c.a.createElement(b.Provider,{value:{isAuthenticated:i,user:h,token:E,loading:P,popupOpen:L,loginError:N,login:G,logout:function(){T.logout()},getToken:$}},t)},O={scopes:["openid","profile","User.Read"],forceRefresh:!1},E={scopes:["API-SCOPE"],forceRefresh:!1},j=function(){var e=k(),t=e.user,n=e.logout,r=e.getToken,a=e.token,o=e.loginError;return c.a.createElement("div",null,c.a.createElement("h1",null,"Welcome ",t.userName),a&&c.a.createElement("span",null,"Your token is ",a),c.a.createElement("br",null),c.a.createElement("button",{onClick:function(){return r(E,"loginPopup")}},"Get Token"),c.a.createElement("br",null),c.a.createElement("button",{onClick:function(){return n()}},"Log out"),c.a.createElement("br",null),o&&c.a.createElement("span",null,"Error: ",o.message))};var w=function(){var e=k(),t=e.loading,n=e.isAuthenticated,r=e.login;return t?c.a.createElement("div",null,"Loading..."):c.a.createElement("div",{className:"App"},!n&&c.a.createElement("button",{onClick:function(){return r(O,"loginRedirect")}},"Log in"),n&&c.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(x,{config:{auth:{clientId:"30438524-af83-4328-8f20-2385084a30de",authority:"https://login.microsoftonline.com/common/",redirectUri:"http://localhost:3000/"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1}},scopes:O},c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){e.exports=n(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.397c7fb7.chunk.js.map